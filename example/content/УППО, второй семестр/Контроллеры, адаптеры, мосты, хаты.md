/*
Title: 
Sort: 10
*/

Контроллер — это электронное устройство, предназначенное для подключения к магистрали компьютера разных по принципу действия, интерфейсу и конструктивному исполнению периферийных устройств К термину "контроллер" очень близок по смыслу другой термин — "адаптер". Назначение обоих одинаково, но контроллер несколько сложнее: "под­разумевается его некоторая активность — способ­ность к самостоятельным действиям после получе­ния команд от обслуживающей его программы. Сложный контроллер может иметь в своем составе и собственный процессор"". На уровне рядового пользователя данные понятия практически нераз­личимы и могут считаться синонимами. 
И еще одним похожим устройством является сопроцессор. Сопроцессоры "помогают" основному {центральному) процессору, который исполняет программу, реализовыпать сложные специфи­ческие функции. Примером может служить графический сопроцессор, выполняющий геометрические построения и обработку графических изображе­ний, — его вполне можно считать графическим контроллером. Несколько особняком стоит мате­матический сопроцессор, который выполняет свои функции "в одиночку", не управляя никакими внешними  устройствами. 

Все перечисленные выше устройства служат для уменьшения нагрузки на центральный процессор и повышают общую производительность системы. Значение контроллеров состоит в том, что они ос­вобождают процессор от наиболее медленных функ­ций ввода/вывода информации. Идеи применения специализированных интеллектуальных схем для разгрузки центрального процессора были наложены еще в третьем поколении ЭВМ в больших машинах коллективного пользования IBM-36O (в СССР данное семейство машин известно в качестве "аналога" под именем ЕС ЭВМ). В четвертом поколении возникла технологическая возможность собирать схемы управления в едином кристалле, и появились микроконтроллеры. 

В состав контроллера, как правило, входят: 

	собственный микропроцессор, ОЗУ, ПЗУ, регистры внешних устройств (через них контроллер взаимодей­ствует с центральным процессором), буферные (согласующие) схемы. В определенном смысле сложный контроллер является упрощенной специализи­рованной  ЭВМ. 
	
Для   работы    ПК,  необходимо чтобы  в  его ОЗУ  находилась  программа  и  данные. А попадают  они  в ОП  из  различных  устройств - клавиатуры, дисков и.т.д. Обычно  эти  устройства  называются  внешними, хотя  некоторые  из  них находятся  внутри  системного  блока.  Результаты  выполнения  программ  также выводятся на  внешние  устройства  - монитор, диски, принтер.  Таким  образом  для  работы ПК   необходим  обмен  информацией   между  ОП  и  внешними  устройствами.  Такой  обмен  называется   вводом / выводом. Для  этого  существуют  два  звена.
1. Для  каждого  внешнего  устройства  в ПК имеется  электронная  схема которая  им  управляет. Эта  схема  называется  контроллером  или  адаптером.
2. Все  контроллеры  взаимодействуют  с  МП  и  ОЗУ  через  системную  магистраль  передачи  данных, которую   называют  шиной. Все  компоненты  ПК  подключаются  к  шине  при  помощи  разъемов  расширения  системы  - слотов .

Просмотр видео на примере работы Аудиоконтроллера 

Шины  расширения  конструктивно  оформляются  в  виде  шелевых  разъемов (слотов) для  установки   плат  адаптеров.  Количество  и  тип  слотов  определяют  возможности  функционального  расширения  системы. 
  Как  уже  отмечалось,  совокупность  линий  по  которым  обмениваются  информацией  компоненты  и  устройства РС называются  шиной.  
Шина  предназначена  для  обмена  информацией  между  двумя  и  более  устройствами.  Шина,  связывающая  только  два  устройства,  называется  портом                                                                                                              
Линии  шины  делятся  на  три  группы  в  зависимости от  типа  передаваемых  данных:

Линии  данных (шина  данных)
Линии  адреса (шина  адреса)
Линии  управления (шина  управления)
 
Шины  различаются  по  своему  функциональному  назначению.

Системная  шина (или  шина  CPU) используется  микросхемами Chipset для  пересылки  информации  к и  от CPU.
Шина  кэш-памяти  предназначена  для  обмена  информации  между  CPU  и Кэш-памятью.
Шина  памяти  используется  для  обмена  информацией  между  оперативной  памятью  и  CPU
Шины  ввода\вывода  подразделяются  на  стандартные  и  локальные
В зависимости  от  своего  функционального  назначения  РС  могут  быть  оборудованы  такими  шинами,  как  USB, SCSI, FireWire, которые  устанавливаются  в  слоты   расширения  или  интегрированы  в  материнскую  плату.  Их  работу  обеспечивает  соответствующий  контроллер. 
Контроллеры  портов  ввода--вывода  присутствую  в  каждом  компьютере эти  порты  бывают  следующих  типов : 
--- параллельные  (обозначают  LPT-1---LPT-4), к  ним  подключаются  принтеры 
--- асинхронные  последовательные  порты (обозначают  COM-1---- COM-4), через  них  обычно  подсоединяют  мышь, модем   и.т.д.  Параллельные  порты  выполняют  ввод--вывод  с  большей  скоростью, чем  последовательные.  Появление  новых,   более   быстродействующих стандартов   интерфейсных  шин  USB (Универсальная  последовательная  шина)  и FareWire (Огненный   провод)  обещает  в  скором  времени вытеснение старых  малопроизводительных   портов  ввода-вывода 
        Шина USB (Universal Serial Bus - универсальная последовательная шина) появилась по компьютерным меркам довольно давно - версия первого утвержденного варианта стандарта появилась 15 января 1996 года. Разработка стандарта была инициировна usb_connect.gif (12518 bytes)весьма авторитетными фирмами - Intel, DEC, IBM, NEC, Northen Telecom и Compaq. 
   Основная цель стандарта, поставленная перед его разработчиками - создать реальную возможность пользователям работать в режиме Plug&Play с периферийными устройствами. Это означает, что должно быть предусмотрено подключение устройства к работающему компьютеру, автоматическое распознавание его немедленно после подключения и последующей установки соответствующих драйверов. Кроме этого, желательно питание маломощных устройств подавать с самой шины. Скорость шины должна быть достаточной для подавляющего большинства периферийных устройств. Попутно решается историческая проблема нехватки ресурсов на внутренних шинах IBM PC совместимого компьютера - контроллер USB занимает только одно прерывание независимо от количества подключенных к шине устройств. 
Практически все поставленные задачи были решены в стандарте на USB и весной 1997 года стали появляться компьютеры, оборудованные разъемами для подключения USB устройств, но периферия с подключением к USB  до середины 1998 года  так практически и не появилась. В чем дело? Почему только к концу 1998 года уже существенно активнее производители оборудования стали предлагать на рынке устройства с USB интерфейсом? Этому есть несколько объяснений:
отсутствие острой необходимости для пользователей настольных компьютеров в устройствах с полной поддержкой Plug&Play. Периферия к настольному компьютеру подключается, как правило, всерьез и надолго и особой нужды в частой смене периферии у подавляющего большинства пользователей нет.
более высокая стоимость устройств с USB по сравнению с аналогичными устройствами, имеющими стандартные интерфейсы
отсутствие поддержки со стороны производителей программного обеспечения и, главным образом, Microsoft, хотя она и была одним из авторов стандарта. Только в Windows 98 появилась полная поддержка USB, а в Windows NT она только должна быть в 1999 году. 
Сейчас USB стала активно внедряться производителями компьютерной периферии. Сенсацией стало наличие в компьютере iMAC фирмы Apple Computers только USB в качестве внешней шины. 
      
Технические  характеристики
Возможности USB следуют из ее технических характеристик: 
  Высокая скорость обмена (full-speed signaling bit rate) - 12 Mb/s 
 Максимальная длина кабеля для высокой скорости обмена - 5 m 
  Низкая скорость обмена (low-speed signaling bit rate) - 1.5 Mb/s 
  Максимальная длина кабеля для низкой скорости обмена - 3 m 
  Максимальное количество подключенных устройств (включая размножители) - 127 
  Возможно подключение устройств с различными скоростями обмена 
  Отсутствие необходимости в установке пользователем дополнительных элементов, таких как терминаторы для SCSI 
  Напряжение питания для периферийных устройств - 5 V 
  Максимальный ток потребления на одно устройство - 500 mA (это не означает, что через USB можно запитать устройства с общим током потребления 127 x 500 mA=63.5 A)

Поэтому целесообразно подключать к USB практически любые периферийные устройства, кроме цифровых видеокамер и высокоскоростных жестких дисков. Особенно удобен этот интерфейс для подключения часто подключаемых/отключаемых приборов, таких как цифровые фотокамеры. Конструкция разъемов для USB рассчитана на многократное сочленение/расчленение. 
Возможность использования  только двух скоростей обмена данными ограничивает применяемость шины, но существенно уменьшает количество линий интерфейса и упрощает аппаратную реализацию. 
Питание непосредственно от USB возможно только для устройств с малым потреблением, таких как клавиатуры, мыши, джойстики и т.п. 
456000Последовательная шина FireWire (IEEE 1394) предлагается для устройств, требующих более высокой скорости обмена, чем может обеспечить шина USB. Она впервые предусмотрена в спецификации PC97. 
Интерфейс FireWire поддерживает синхронную и асинхронную передачу данных и предоставляет возможность подключения до 63 устройств на один порт. При этом поддерживается скорость передачи 100, 200 и 400 Мбит/с (т. е. 12,5, 25, 50 Мбайт/с), прорабатываются варианты на 800 и 1600 Мбит/с. При этом различные пары устройств могут обмениваться данными на различной скорости, например, на 100 и на 400 Мбит/с. Для связи используется 6-жильный медный кабель или оптоволокно. Из этих шести проводов два идут к источнику питания, а четыре других, организованные как две экранированные витые пары, используются для передачи данных. Кабель в целом также экранирован. По проводам питания может подаваться напряжение от 8 до 40 В (ток до 1,5 А), что позволяет отказаться от источников питания в периферийных устройствах. 
Каждое устройство FireWire может содержать до 6 разъемов (чаще всего 3) для подключения других устройств. Длина сегмента FireWire может достигать 4,5 метров. Сеть FireWire может включать до 63 узлов, а несколько сетей могут быть соединены между собой мостами (до 1023). Таким образом, в системе может быть до 64449 устройств IEEE 1394. 
FireWire поддерживает автоопределение Plug-n-play, горячее включение и изохронный режим работы, обеспечивающий гарантированную полосу пропускания для подключенных устройств. Подобно контроллерам SCSI, контроллеры FireWire могут самостоятельно обрабатывать большинство операций ввода/вывода, не занимая время процессора. 
    Изначально планировалось использование FireWire в цифровом видео (первыми устройствами FireWire стали цифровые видеокамеры и видеомагнитофоны Sony). Спецификации РС98 и PC99 предполагают, помимо видео, использование FireWire для подключения жестких дисков, сетевых карт, магнитооптических накопителей и другого высокоскоростного оборудования.

USB 3.0: новое поколение популярного интерфейса

Режимы энергосбережения
Конечно, основной целью интерфейса USB 3.0 является повышение доступной пропускной способности, однако новый стандарт эффективно оптимизирует энергопотребление. Интерфейс USB 2.0 постоянно опрашивает доступность устройств, на что расходуется энергия. Напротив, у USB 3.0 есть четыре состояния подключения, названные U0-U3. Состояние подключения U0 соответствует активной передаче данных, а U3 погружает устройство в "сон".


Режимы энергосбережения


Если подключение бездействует, то в состоянии U1 будут отключены возможности приёма и передачи данных. Состояние U2 идёт ещё на шаг дальше, отключая внутренние тактовые импульсы. Соответственно, подключённые устройства могут переходить в состояние U1 сразу же после завершения передачи данных, что, как предполагается, даст ощутимые преимущества по энергопотреблению, если сравнивать с USB 2.0. 
Больший ток
Кроме разных состояний энергопотребления стандарт USB 3.0 отличается от USB 2.0 и более высоким поддерживаемым током. Если USB 2.0 предусматривал порог тока 500 мА, то в случае нового стандарта ограничение было сдвинуто до планки 900 мА. Ток при инициации соединения был увеличен с уровня 100 мА у USB 2.0 до 150 мА у USB 3.0. Оба параметра весьма важны для портативных жёстких дисков, которые обычно требуют чуть большие токи. Раньше проблему удавалось решить с помощью дополнительной вилки USB, получая питание от двух портов, но используя только один для передачи данных, пусть даже это нарушало спецификации USB 2.0. 
Новые кабели


Новые кабели

Перейдём к кабелям. USB 3.0 не использует волоконную оптику, поскольку она слишком дорога для массового рынка. Поэтому перед нами старый добрый медный кабель. Однако теперь у него будет девять, а не четыре провода. Передача данных осуществляется по четырём из пяти дополнительных проводов в дифференциальном режиме (SDP--Shielded Differential Pair). Одна пара проводов отвечает за приём информации, другая - за передачу. Принцип работы похож на Serial ATA, при этом устройства получают полную пропускную способность в обоих направлениях. Пятый провод - "земля". 
Цветовое кодирование
Стандарт USB 3.0 обратно совместим с USB 2.0, то есть вилки кажутся такими же, как и обычные вилки типа A. Контакты USB 2.0 остались на прежнем месте, но в глубине разъёма теперь располагаются пять новых контактов. Это означает, что вам нужно полностью вставлять вилку USB 3.0 в порт USB 3.0, чтобы удостовериться в режиме работы USB 3.0, для которого требуются дополнительные контакты. Иначе вы получите скорость USB 2.0. USB Implementers Forum рекомендует производителям использовать цветовое кодирование Pantone 300C на внутренней части разъёма.

Цветовое кодирование

Ситуация получилась схожей и для USB-вилки типа B, хотя различия визуально более заметны. Вилку USB 3.0 можно определить по пяти дополнительным контактам. 

Цветовое кодирование

Разъёмы мобильных устройств
У разъёмов для мобильных устройств изменения более заметны. Старый разъём Micro-B USB 2.0 имел ширину 6,86 мм, однако теперь ширина разъёма USB 3.0 Micro-B для мобильных телефонов, плееров и смартфонов увеличилась до 12,25 мм. Опять же, разъёмы были сделаны таким образом, чтобы обеспечить совместимость c USB 2.0.

Разъёмы мобильных устройств

Длина кабеля тоже изменилась. Стандарт USB 2.0 позволял использовать кабели с длиной до пяти метров, однако USB 3.0 поддерживает максимальную длину только три метра.
Концентраторы USB 3.0
Конечно, USB 3.0 потребует новых USB-концентраторов (хабов), позволяющих подключать несколько устройств через одно физическое соединение. Концентраторы USB 3.0 будут сложнее, чем устройства класса USB 2.0, поскольку им придётся включать в себя два концентратора: первый SuperSpeed для работы USB 3.0, второй - для поддержки USB 2.0. Пользователю всё будет прозрачно, поскольку все порты будут соединяться к обоим концентраторам. Впрочем, такой подход всё же не повышает максимальное количество устройств на порт USB, которое осталось 127.

Концентраторы USB 3.0

Реализация двух таких концентраторов в одном устройстве наверняка негативно скажется на цене первого поколения хабов USB 3.0, но, как нам кажется, будущие поколения начнут использовать один унифицированный чип, который будет поддерживать стандарты обоих типов. Кроме того, нам следует отметить возможные проблемы совместимости со стандартом USB 1.1, поскольку устройства USB 3.0 не гарантируют совместимость со старым стандартом на 12 Мбит/с. Поэтому концентраторы USB 3.0 не будут работать со старыми контроллерами USB 1.1.
Проникновение на рынок к 2010 году

Проникновение на рынок к 2010 году

Спецификации уже утверждены, но пройдёт ещё несколько месяцев, прежде чем на рынок выйдут устройства USB 3.0 в сколько-нибудь заметных количествах. USB 3.0 Promoter Group ожидает, что потребительские продукты USB 3.0 будут доступны к 2010 году - на год позже, чем предполагалось раньше. Многие компании будут разрабатывать продукты USB 3.0 оставшуюся часть года, но, как нам кажется, контроллеры должны появиться довольно скоро. 
Microsoft уже объявила, что компания не будет поддерживать USB 3.0 в "родном" режиме после выхода Windows 7. Время между финализацией спецификаций USB 3.0 и завершением Windows 7 было слишком коротким, чтобы добавить поддержку в Windows 7. Впрочем, Microsoft определённо добавит поддержку USB 3.0 через обновления. Но пока не известно, будет ли доступна поддержка USB 3.0 для пользователей операционных систем Windows XP или Windows Vista, чтобы и они смогли выиграть от технологии SuperSpeed. 
Задержка также повлияла на разработку продуктов и других производителей, таких как Intel. Изначально ходили слухи, что чипсет Ibex Peak (P55) будет поддерживать USB 3.0, но этого не случилось. Пользователям придётся ждать платформы Intel для 2010 года, чтобы получить встроенную поддержку USB 3.0.